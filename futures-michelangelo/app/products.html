<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="../../assets/ico/favicon.ico">
  <title>Futures-明天，还有明天</title>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="bower_components/datatables/media/css/dataTables.bootstrap.min.css">
  <!-- Custom styles for this template -->
  <link href="navbar.css" rel="stylesheet">
</head>

<body>
  <!-- Static navbar -->
  <div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Futures</a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="#">主页</a></li>
          <li class="active"><a href="#">产品</a></li>
          <li><a href="#">套利</a></li>
          <li><a href="#">趋势</a></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="#">Action</a></li>
              <li><a href="#">Another action</a></li>
              <li><a href="#">Something else here</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">Nav header</li>
              <li><a href="#">Separated link</a></li>
              <li><a href="#">One more separated link</a></li>
            </ul>
          </li>
        </ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </div>
  <div class="container" style="margin-top: 40px">
    <div class="col-lg-12">
      <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th>代码</th>
            <th>名称</th>
            <th>最新价</th>
            <th>1分涨</th>
            <th>5分涨</th>
            <th>10分涨</th>
            <th>30分涨</th>
            <th>60分涨</th>
            <th>1日涨</th>
            <th>5日涨</th>
            <th>10日涨</th>
            <th>30日涨</th>
            <th>60日涨</th>
          </tr>
        </thead>
      </table>
    </div>
  </div>
  <!-- jQuery -->
  <script type="text/javascript" charset="utf8" src="bower_components/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" charset="utf8" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script type="text/javascript" charset="utf8" src="bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" charset="utf8" src="bower_components/datatables/media/js/dataTables.bootstrap.min.js"></script>
  <script type="text/javascript" charset="utf8" src="bower_components/highcharts/highcharts.js"></script>
  <script type="text/javascript" charset="utf8" src="bower_components/highcharts/modules/exporting.js "></script>
  <script>
  function refreshTable() {

    $.getJSON('http://139.196.37.92:8000/futures-api/web/futures/all', function(data) {
      $('#example').dataTable({
        "data": data,
        "paging": false,
        "searching": false,
        "info": false,
        "columns": [{
          "data": "product.code"
        }, {
          "data": "product.name"
        }, {
          "data": "price"
        }, {
          "data": "last1RIncPct"
        }, {
          "data": "last5RIncPct"
        }, {
          "data": "last10RIncPct"
        }, {
          "data": "last30RIncPct"
        }, {
          "data": "last60RIncPct"
        }, {
          "data": "last1KIncPct"
        }, {
          "data": "last5KIncPct"
        }, {
          "data": "last10KIncPct"
        }, {
          "data": "last30KIncPct"
        }, {
          "data": "last60KIncPct"
        }],
        "columnDefs": [{
          "render": function(data, type, row) {
            return data.toLocaleString();
          },
          "targets": [2]
        }, {
          "render": function(data, type, row) {
            var out = (data * 100).toFixed(2);
            if (out > 0) {
              return '<span style="color:red">' + out + '</span>';
            } else if (out < 0) {
              return '<span style="color:green">' + out + '</span>';
            } else {
              return out;
            }
            return out;
          },
          "targets": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
        }]
      });
    });
  }


  $(function() {


    refreshTable();

  });
  </script>
</body>

</html>
